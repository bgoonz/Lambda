<!doctype html>
<html>
	<head>
		<title>Preview</title>
		<meta charset="UTF-8">
		<script src="../src/Preview.js"></script>
		<script>
			function init( ) {
				var media = new PREVIEW.Media( 'estranged-screenshot.jpg' );
				var camera = new PREVIEW.Camera( );
				
				PREVIEW.Event.listen( window, 'keydown', function ( e ) {
					switch ( e.keyCode ) {
						case 37: camera.position.x -= 20; break;
						case 38: camera.position.y -= 20; break;
						case 39: camera.position.x += 20; break;
						case 40: camera.position.y += 20; break;
					};
				} );
				
				var stage = new PREVIEW.Stage( document.getElementById( 'stage' ), media.create( ), camera );
				stage.create( );
				
				( function( ) {
					stage.update( );
					requestAnimFrame( arguments.callee );
				} )( );
			}
		</script>
		<style>
			body {
				margin: 0;
			}
			
			#stage {
				background: white;
				background: -moz-radial-gradient(center, ellipse cover, white 0%, lightgray 100%);
				background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%, white), color-stop(100%, lightgray));
				background: -webkit-radial-gradient(center, ellipse cover, white 0%, lightgray 100%);
				background: -o-radial-gradient(center, ellipse cover, white 0%, lightgray 100%);
				background: -ms-radial-gradient(center, ellipse cover, white 0%, lightgray 100%);
				background: radial-gradient(ellipse at center, white 0%, lightgray 100%);
				
				height: 100%;
				width: 100%;
			}
			
			#media {
				opacity:0;
				transition:opacity 250ms;
				box-shadow:0 0 1em #555;
			}
		</style>
	</head>
	<body onload="init( )">
		<div id="stage"></div>
	</body>
</html>